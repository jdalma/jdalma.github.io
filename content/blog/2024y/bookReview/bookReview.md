---
title: 2024년 책,강의 서평
date: "2024-12-31"
tags:
   - 서평
---

# **엘라스틱서치 바이블** 

> `12월 6일부터 01월 17일까지`

실무에서 엘라스틱서치와 맞닿아 있는 업무를 할 때 모르고 넘어가는 것이 많아 불편하고 찝찝한 느낌이 있었다.  
그리고 데이터 팀의 공유 사항을 들으면 이해 못하는 것이 많았다.  

1. 운영중인 여러 개의 검색 클러스터, ES 내부 아키텍처에 대한 이해가 없어 검색 이슈가 발생했을 때의 상황과 해결 방법을 이해할 수 없음
2. ES QueryDSL 작성할 때 마다 구글링을 하는 불편함
3. 현재 운영중인 ES 환경의 문제점과 개선점에 대해 고민하거나 공감할 수 없음
  
위와 같은 이유로 엘라스틱서치를 공부해야겠다는 생각이 들었고 사내 스터디를 만들어서 읽어보았다.  
ES에 대한 지식 하나도 없었지만 읽기 편했고 대부분의 개발책은 외국에서 쓰여서 번역본으로 읽게 되는데 이 책은 내국인이 써서 읽기 편했다.  
  
읽으면서 내용들을 [정리](https://github.com/jdalma/footprints/tree/main/%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1%EC%84%9C%EC%B9%98)해 보았다.  
  
1. 엘라스틱서치 클러스터 수준에서 루씬 세그먼트와 루씬 commit, flush 그리고 translog 수준까지의 **개괄적인 구조**
2. 복잡한 수준의 쿼리를 작성하면서 설명하진 않지만 기본적인 여러 종류의 **ES Query DSL**
3. **인덱스 설정과 필드 타입**
4. 문서를 검색하거나 조작하는 **여러 문서 API**
5. 저수준, 고수준 REST 클라이언트와 최신 자바 클라이언트 사용 방법
  
위의 내용들을 재밌게 읽었다.  
하지만 아래와 같이 실제 운영하는 인원에게 도움이 되는 내용들은 흥미가 없었다.  
1. 엘라스틱서치, 키바나, 클라이언트 등을 TLS로 구성하는 방법
2. 인덱스, 샤드 운영 전략과 스냅샷 복구 방법
3. 코드 레벨의 동작과 커스텀 플러그인
  
전반적인 내용으로 봤을 때, 엘라스틱서치 클라이언트 입장이거나 엘라스틱서치의 관계자인 개발자보다는 클러스터를 직접 운영하고 튜닝하거나 깊은 내용의 이해를 필요로 하는 개발자한테 도움이 많이 될 것으로 보인다.  
그래도 학습하면서 현재 실무 운영 환경과 책의 내용을 비교하면서 읽을 수 있었고 같은 회사의 팀원들과 읽어서 더욱 재밌게 읽었던 것 같다.  
이 책으로 진행한 스터디 덕분에 실무 환경에서 모르고 넘어갔던 부분들을 배울 수 있었고 백엔드만의 영역이 아니라 데이터 팀의 영역에 대한 시야도 넓어진 느낌이다.  

# **실용주의 프로그래머**

> `12월 8일부터 01월 18일까지`

처음엔 3,4주면 다 읽을 줄 알았는데 6주가 걸렸다. 너무 기대해서 그런지 지루한 느낌이 있었다.  
이 책을 기술책이라고 단정짓기는 힘들고 **개발자라는 직업의 장인 정신에 대한 이야기** 를 한다고 느꼈다.  
누구나 문제와 해법에 접근하는 태도와 방식, 철학에 차이가 있는 **실용주의 프로그래머** 가 될 수 있다고 설득한다.  
  
1. 자신의 경력에 대한 책임을 지고, 자신의 무지나 실수를 주저없이 인정하며 정직하고 솔직해야 한다.
2. 어설픈 변명 말고 대안을 제시하라.
3. 프로그램을 과도하게 장식하거나 지나칠 정도로 다듬느라 망치지 말라.
4. 왜냐고 다섯 번 묻기
5. 직교적인(응집도가 높은) 시스템을 작성하도록 노력하여 관련 없는 것들 간에 서로 영향이 없도록 하라.
6. 누군가에 문제를 설명해봐라. 고무 오리라도 괜찮다.
7. 여러분은 완벽한 소프트웨어를 만들 수 없다.
8. 이 책의 저자는 문제를 찾고 원인을 밝히기 위해서는 사고가 난 지점에서 "일찍 멈추기"를 장려한다.
9. has-a가 is-a 보다 낫다.
10. 의도적으로 프로그래밍하라. 우연에 기대지 말고 가정에 의존하지 마라. 신뢰할 수 있는것에만 기대라.
11. 리팩토링가 기능 추가를 동시에 하지 말라.
12. 요구 사항 문서는 의뢰인을 위한 것이 아니다.

책을 읽으면서 표시해놓은 인덱스들을 작성해봤다. 위의 내용만 보아도 책에서 설명하는 범위는 굉장히 넓은 것을 알 수 있다.  
개인적으로는 `철학, 편집도구, 클린코드, 테스트, 태도, 문서화, 협업 등` 내용이 너무 포괄적이라서 흥미를 느끼지 못한 것 같다.  
순서대로 읽기 보다는 목차에서 관심있는 주제들을 골라서 읽는 것을 추천한다.  

# **HTTP/2 인 액션**

> `12월 13일부터 1월 20일까지`

사내에서 Armeria + gRPC를 통한 POC를 진행한 적이 있는데 HTTP/2에 대한 이해가 없었어서 힘들었던 경험이 있다.  
위의 경험 때문에 [코드숨 스터디](https://www.codesoom.com/courses/soomtudy) 모집을 보고 바로 참가했다.  
  
HTTP/2가 개선되긴 했지만 HTTP/1.1과 비교해서 **명확하게 어떤 부분이 개선되었는지** , 스트림에 대해서는 들어봤는데 **명확하게 어떤 방식으로 통신이 이루어지는지** 알지 못했다.  
이 책은 HTTP/2 뿐만이 아니라 HTTP/1.0, HTTP/1.1, HTTPS, TCP, QUIC에 대해서도 설명해주어서 가려웠던 부분을 시원하게 다 긁어준다.  

1. HTTP/1.1까지의 문제점과 한계
2. HTTP/2 개념과 프레임, 단일 연결 다중 요청
3. HTTP/2 푸시, 최적화
4. HTTP/2 스트림, 흐름 제어, 스트림 우선순위
5. QUIC과 HTTP/3를 설명하기 위한 TCP의 비효율성과 UDP를 선택한 이유

이번 책으로 인해서 HTTP/2가 **어떤 문제를 어떻게 해결하는지, 한계는 무엇인지를 이해할 수 있었다.**  
  
스터디에서 [매 챕터마다 문제를 제공](https://github.com/CodeSoom/http2-in-action)해줘서 [문제를 풀면서 학습](https://github.com/jdalma/footprints/blob/main/%EC%8A%A4%ED%84%B0%EB%94%94/HTTP2%EC%9D%B8%EC%95%A1%EC%85%98.md)할 수 있었어서 좋았다.  
네트워크 내용이 너무 방대해서 항상 네트워크 책을 읽을 때 마다 힘들었는데, 이번 책은 HTTP 프로토콜에 대해 집중적으로 설명해줘서 다른 책에 비해 덜 힘들었던 것 같다.  
  
요즘 많은 회사에서 HTTP/2를 적용한 통신 방법을 채택하고 있고 전반적인 네트워크 변화의 흐름에 대해 이해하기 위해서는 정말 좋은 책이라고 생각한다.  
  
- [gRPC를 사용하는 기업들](https://www.codenary.co.kr/techstack/detail/grpc)
- [Armeria로 Reactive Streams와 놀자!](https://engineering.linecorp.com/ko/blog/reactive-streams-with-armeria-1)
- [뱅크샐러드 프로덕션 환경에서 사용하는 golang과 gRPC](https://blog.banksalad.com/tech/production-ready-grpc-in-golang/)
- [쿡앱스는 gRPC를 어떻게 사용하나요?](https://story.cookapps.com/articles/187)

# **타입으로 견고하게 다형성으로 유연하게**

> `1월 19일 부터 2월 20일까지`
  
> 정적 타입 언어는 타입 검사기를 통하여 생산성을 높이기도 좋고, 불필요한 실행 중 검사를 없앨 수 있어서 프로그램이 좋은 성능을 내는데 유리하고 큰 프로그램을 만들 때 타입 검사기의 위력은 강력하다.  
> 타입 검사기가 거부하는 코드를 줄이고 정적 언어를 잘 사용하기 위해 여러 경우에 대한 다형성,가변성에 대한 이해와 타입 검사기와 친해지도록 노력해야 한다.  
  
이 책을 통해 아래의 내용을 학습할 수 있다.  

1. **여러 종류의 다형성**
2. (JVM 언어에서는 지원하지 않는) **다른 언어의 기능**
3. **최대, 최소 타입**
4. **제네릭 가변성** 
5. **PECS를 지켜야하는 이유**
6. 타입 클래스, 카인드
  
제일 와닿았던 부분은 제네릭 가변성에 대한 이해가 없을 때 이게 왜 안되는지 몰랐던 부분들을 깨닫게 도와줬다.  
[PECS : producer-extends, consumer-super](https://github.com/jdalma/footprints/blob/main/effective-java/item31_%ED%95%9C%EC%A0%95%EC%A0%81%20%EC%99%80%EC%9D%BC%EB%93%9C%EC%B9%B4%EB%93%9C%EB%A5%BC%20%EC%82%AC%EC%9A%A9%ED%95%B4%20API%20%EC%9C%A0%EC%97%B0%EC%84%B1%EC%9D%84%20%EB%86%92%EC%9D%B4%EB%9D%BC.md#pecs--producer-extends-consumer-super)를 외워서 사용했는데 왜 저렇게 제한해야 하는지 더 깊은 이해를 할 수 있도록 도와주었다.    
  
이 책을 읽으면서 안다고 착각했던 부분들이 많았다는 것을 깨달았다. 정적 타입 언어에 대한 이해를 한층 더 높여준 책이다.  
개발하면서 타입 검사기가 거부하는 상황이 발생하면 IDE의 도움을 받아 어영부영 넘어간 경험 또는 제네릭이나 제네릭을 통한 타입 매개변수 제한을 사용할 때 타입 검사기가 왜 거부하는지 이해하지 못 했던 경험이 있다면 이 책은 큰 도움이 될 것이다.  

# **프레임**

> `2월 12일 부터 2월 21일까지`

책을 추천받아 읽어보았다. 아마 현재를 만족하지 못하고 불평만 하며 가지지 않은 것에 대한 욕심만 높아 스트레스를 받는 나를 보고 추천해준 것 아닐까 싶다.  
책 이름을 보고 따분한 자기계발서로 예상할 수 있지만 연구 결과에 기반한 심리학 내용을 전개하여 흥미롭게 읽었다.  
  
> **프레임**은 "세상을 바라보는 마음의 창"이다. 어떤 문제를 바라보는 관점, 세상을 향한 마인드셋, 세상에 대한 온유, 사람들에 대한 고정관념등이 모두 프레임의 범주에 포함되는 말이다.  
> 마음을 비춰보는 창으로서의 프레임은 특정한 방향으로 세상을 보도록 이끄는 조력자의 역할을 하지만, 동시에 우리가 보는 세상을 제한하는 검열관의 역할도 한다.

> **프레임**은 우리가 지각하고 생각하는 과정을 선택적으로 제약하고, 궁극적으로는 지각과 생각의 결과를 결정한다.

> **프레임**은 다양한 형태를 지닌다. 우리의 가정, 전제, 기준, 고정관념, 은유, 단어, 질문, 경험의 순서, 맥락 등이 프레임의 대표적인 형태다.

이 **프레임** 에 대한 특성과 연구 결과들을 설명한다.  
그중에 인상깊은 연구들이 있다.  

1. **동메달이 은메달보다 행복한 이유**
2. **이미지 투사**
   - 타인을 평가하는 기준은 자기 자신을 평가할 때도 그 기준을 중요하게 생각한다.
3. **행동의 원인은 사람인가? 상황인가?**
   - 나치의 반인륜적인 악행을 행한 사람들을 "소수의 악인, 소수의 사이코패스가 저지른 악행" 이라는 **사람 프레임** 으로 보지 않는 것 
   - 악이 사람이 아니라 상황에 의해 유발된다는 **상황 프레임** 으로 보는 것
4. 위의 연구에 힘을 싣는 **권위에 대한 위험한 복종 연구**
   - 지시자, 교사, 학생 3명의 인원 중 교사만 실험 대상이다.
   - 지시자는 교사에게 학생이 오답을 말하면 전기가 통하는 스위치를 누르도록 지시
   - 학생이 고의로 오답을 선택하게 하여 전기 충격을 15V에서 450V 까지 단계적으로 올렸다.
   - 마지막 수준까지 전기 충격을 가할 사람의 수는 극소수라고 생각했지만 67%에 해당하는 사람이 끝까지 복종
5. **방관자 효과**
   - 살인 사건에 최소한 49명의 목격자가 있었지만 경찰에 즉각적으로 알라지 않고 서로 떠넘김으로써 골든타임을 놓쳐 사망한 사건
6. **군중의 힘**
   - 고층 빌딩에 뛰어내려 자살하려는 긴박한 상황에 군중들이 오히려 자살을 부추기는 상황
   - 개인이 군중이라는 상황 속에서 자아 실종 현상을 심리학에서 "몰아" 라고 한다.
7. **가장 긴 선을 고르세요.**
   - 8명 중 1명을 속이는 실험, 8명 중 7명은 가장 긴 선을 선택하라는 질문에 동일하게 잘못된 답을 선택
   - 그 중 실험 대상인 1명은 처음엔 맞는 답을 선택하였지만 시간이 지날수록 7명이 선택한 잘못된 답을 선택한다.
   - 하지만 7명의 동조자 중 1명이라도 정상적인 답을 선택하면 정답률이 100%에 가깝게 회복된 것
   - 조금 다르게 7명의 동조자 중 1명이 다수가 선택한 오답이 아닌 다른 답을 선택하여도 정답률이 상승한 것
   - **집단의 다양성을 보장하여 우리 모두의 소신을 이끌어내야한다.**
8. **매몰 비용**
   - 할인할 때 3000원 주고 스파게티를 사서 집에왔지만 친구가 온다하여 다시 사러 갔을 때는 6000원 주고 스파게티를 사왔다.
   - 친구가 못 온다고 하였을 때, 두 개의 스파게티 중 많은 사람들이 비싼 스파게티를 선택하는 것
   - 아깝다는 이유만으로 제값에 산 걸 먹어야만 된다고 생각하는 **손실에 대한 원초적 거부**

책이 나를 설명한다고 느낄 정도로 읽으면서 뜨끔한 적이 많았다.  
그리고 읽으면서 [유연함의 힘](https://jdalma.github.io/2023y/bookReview/bookReview/#%EC%9C%A0%EC%97%B0%ED%95%A8%EC%9D%98-%ED%9E%98)이 떠올랐다. 유연함의 힘은 커리어, 회사생활에 대한 내용이였다면 이 책은 삶에 대한 내용을 설명한다고 느꼈다.  
  
다 읽고 나서 달라진 점은 내가 가진 마음의 한계를 지각한다는 것이다. 아무렇지 않게 결정했던 내 생각들이 어떤 이유로 이렇게 결정했는지 고민해보는 능력이 생긴 것이 놀랍다.  
심리학에 흥미가 있는 사람이라면 추천해주고 싶다.  


# **Real My SQL 1권** ~ing

# **OAuth2 인 액션** ~ing

# **자바 네트워크 프로그래밍** ~ing

# **코틀린 코루틴** ~ing

# **Real My SQL 2권** 예정

# **네티 인 액션** 예정

# **오브젝트** 예정

# **이펙티브 코틀린** 예정

# **이펙티브 자바** 예정

# **개발자를 위한 레디스** 예정

# **Nginx 쿡북** 예정