{"componentChunkName":"component---src-templates-blog-post-js","path":"/2025y/stress/","result":{"data":{"site":{"siteMetadata":{"title":"코딩 주머니"}},"markdownRemark":{"id":"d5fa2548-1943-5a23-9a49-d6996e4c0e77","excerpt":"들어가며 DBCP…","html":"<h2 id=\"들어가며\" style=\"position:relative;\">들어가며<a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>DBCP 튜닝을 해본적이 없다. 기본값을 그대로 사용하거나, 막연히 큰 값을 설정하는 것을 기존 프로젝트에서 봐왔다.<br>\n하지만 최적의 설정은 애플리케이션의 특성, 쿼리 실행 시간, 동시 사용자 수에 따라 달라지기 때문에 튜닝을 연습해보려 한다.</p>\n<p>그래서 <strong>의도적으로 병목 상황을 만들고</strong>, k6 부하 테스트와 Grafana 모니터링을 통해 <strong>임계점을 직접 확인</strong>하면서 최적의 pool size를 찾아보려 한다.</p>\n<blockquote>\n<p><strong>참고</strong></p>\n<ul>\n<li><a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\">HikariCP GitHub - About Pool Sizing</a></li>\n<li><a href=\"https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby\">HikariCP Configuration</a></li>\n</ul>\n</blockquote>\n<h2 id=\"부하-테스트-기준\" style=\"position:relative;\">부하 테스트 기준<a href=\"#%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B8%B0%EC%A4%80\" aria-label=\"부하 테스트 기준 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e097ac830ab6beafb96d3f4e6ef6cb4e/ac522/api.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVR42nWR247TQBBE/a088Ts88xO8IfHGaqVlb0pWIhIJeGM7viT2jB3fYif2+NA2GARSWir1jDRdXVNl8buGYeD/quuaJEk4HnPpijhWKJXS9wPj87KqUTpFZzlaelEUWF3XTcNj3+/3MhQTBAFhGE73vjcUmU+R/uBc+3RNJAjpmwBzDtH7FZF9RxJ9Z5RkLZYvk7q6qnAcB9/3sW17gtZa1B1x7HvWq49U6YJSPQmeyeMHTuoLt/efePvuAzcPN5Mw69t6LSp6DocDaZqSZdnUUyFLRO2oMnAeidzPVPqZJlvQHF+osyVdvuDp6x1v3t/yuFr+IhzJ5i9fLpd/YXqMqE+Vh4rXtJVLU3p/0FaC0qHNN3IOJ18trpUxcDoxjGhaTFFiLt00NMOYgV5ghr+hXiXs25bS89Cvr+jtlnSzIYsP5IUkqtRky5jqHOpcVwnP8uVIPHSEdDemLl56ux2u67KVBVorWlk6WzYT/gTQWWEf4s4jfwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"api\"\n        title=\"\"\n        src=\"/static/e097ac830ab6beafb96d3f4e6ef6cb4e/1cfc2/api.png\"\n        srcset=\"/static/e097ac830ab6beafb96d3f4e6ef6cb4e/3684f/api.png 225w,\n/static/e097ac830ab6beafb96d3f4e6ef6cb4e/fc2a6/api.png 450w,\n/static/e097ac830ab6beafb96d3f4e6ef6cb4e/1cfc2/api.png 900w,\n/static/e097ac830ab6beafb96d3f4e6ef6cb4e/21482/api.png 1350w,\n/static/e097ac830ab6beafb96d3f4e6ef6cb4e/d61c2/api.png 1800w,\n/static/e097ac830ab6beafb96d3f4e6ef6cb4e/ac522/api.png 2941w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"carbon\" theme=\"one-light\" line-numbers=\"true\"  >\n          <code slot=\"code\">// k6/scripts/phase1-read-test.js\nexport const options = {\n  scenarios: {\n    ramping_load: {\n      executor: &#39;ramping-vus&#39;,\n      startVUs: 1,\n      stages: [\n        { duration: &#39;20s&#39;, target: 10 },   // Warm-up\n        { duration: &#39;30s&#39;, target: 50 },   // Tomcat 스레드 포화 (max: 100)\n        { duration: &#39;30s&#39;, target: 100 },  // Tomcat 초과\n        { duration: &#39;30s&#39;, target: 125 },  // 고부하\n        { duration: &#39;30s&#39;, target: 150 },  // 최대 부하\n        { duration: &#39;20s&#39;, target: 0 },    // Cool-down\n      ],\n    },\n  },\n};</code>\n        </deckgo-highlight-code>\n<ul>\n<li><strong>Tomcat 최대 스레드를 100개로 제한</strong></li>\n<li><strong>DBCP 최대 커넥션 수를 5개로 제한</strong></li>\n</ul>\n<p>이 상황에서 점진적으로 부하를 줘보자</p>\n<h2 id=\"정상적인-상황\" style=\"position:relative;\">정상적인 상황<a href=\"#%EC%A0%95%EC%83%81%EC%A0%81%EC%9D%B8-%EC%83%81%ED%99%A9\" aria-label=\"정상적인 상황 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78d4c62c1cb2a50f71ffb012578fe5df/10b63/baseline.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjUlEQVR42j1TWXbbMAzUHVpbC0lxp/bYSpPWr69N/nv/+0wHdF8/YJgQCGAGw2bdTxgbcWkHXDqFr/TXVsENGmOvYGmjGqGZY1xE2+uad2n/5fYG7WBqrNcOjbYBY8pYP35h+/yAXVf0yuBtWXFfN5zTjKPMMLFAjw7KecTzFfF+YrCO8Yx5v8GEhGm7oxl9rEXK90e1dEqiZbcRg7HoWFy7QIvoeB7ZwC47/PYCk0v9LvGr0rBs2qRpg88zhtHzg68XZQpJ7Al7oFf8FsqCwiJxWtkwoGNsYKOOdPS0jrCtT2hcjOTHkh+LpXgGPXqeN8bP9UAilI2dDS8Plt9YyNMWNrakoGWxIwRsqeB9O9AoJjle+v36hj+Pdyz7G4Z8wxQidkIK5GmltyFXGiKn/1YyfqxPixzAMyc5h528NyHNyIScOUWKE/0EHxfyx+79UGHLFg3hlMwFlIJI77mMwGUWnq+c8ks3kLaAZtlu5HCBEl54+cr1i28ph4tYp8kTl+FznVK7jOswVvn8Nza80ivDgsLLQC4eLwmf9wAfHC7saLj9NO91SdLQcqKeeYaQSyK8yeGgLZmUHCfycmCiphtJmBl8XT0tcDGBl54XR8IU3kRajpQochWCR04BMQZSFHgOlR5RhWPT5jh23G8H9v3APM+YSPg8cQksepEXwETxilsWnWlCV4Qt3vhSeRNKrsKzo2w0f0QKVVvaVrhiQrSjLhfGVz478Yl5ltNo5kmuCLplw5EqsWl6vhTjA4XLCexYtei9Q4keLyXifU6URsLPvVR7bJQK7bEWSor6Zb6Y0CPySxR9U9cfE6UjUJ+yEMhZ5EH4QbSYEjxN8uS/xOe5cIGpPsue08qWBfJfAxeGFyZtTXgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"baseline\"\n        title=\"\"\n        src=\"/static/78d4c62c1cb2a50f71ffb012578fe5df/1cfc2/baseline.png\"\n        srcset=\"/static/78d4c62c1cb2a50f71ffb012578fe5df/3684f/baseline.png 225w,\n/static/78d4c62c1cb2a50f71ffb012578fe5df/fc2a6/baseline.png 450w,\n/static/78d4c62c1cb2a50f71ffb012578fe5df/1cfc2/baseline.png 900w,\n/static/78d4c62c1cb2a50f71ffb012578fe5df/21482/baseline.png 1350w,\n/static/78d4c62c1cb2a50f71ffb012578fe5df/d61c2/baseline.png 1800w,\n/static/78d4c62c1cb2a50f71ffb012578fe5df/10b63/baseline.png 1897w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>Tomcat 스레드보다 많이 요청됐지만 정상 처리됨</li>\n<li>초당 700개의 요청을 처리</li>\n<li>99%의 요청이 200ms 이내 처리</li>\n</ol>\n<h2 id=\"각-조회-api-300ms-지연-상황\" style=\"position:relative;\">각 조회 API 300ms 지연 상황<a href=\"#%EA%B0%81-%EC%A1%B0%ED%9A%8C-api-300ms-%EC%A7%80%EC%97%B0-%EC%83%81%ED%99%A9\" aria-label=\"각 조회 api 300ms 지연 상황 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>처리를 300ms 지연시켜서 DB Connection 반환을 지연시켜보자</p>\n<blockquote>\n<p>📌 <strong>부하 테스트를 하면 메트릭 집계 안되는 경우</strong><br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bb5cd49e74c797d08c2828cfdfdfc2d3/6c68b/disappear.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABQElEQVR42n2R226DMBBE+Yk0BF/wBQwYQkJzaapITfvS//+j6dj0oZWqPhytLfDMzm7RdBOaMCJV10ZsK41NqfC0+59NKTPrXWY2pUChbYC2LbRroVi30qLSFju91nxWvyllzf8HKB/zuTIBwvaQpkPhQuSjmkKKVeMwODyeHYytsZMaQpHafGP5KIkajNMFl9sD7TCzkQDDdJ4pC5tiCosxLvg4HXGfLd6PHof9CSqcYfsrFJ0raWjg2BE7FElwwXg4Q5gGKaVp+jyyQrsOodvj8/UNj2XBFAzOQ4Pr8QWqv8GMd9QUlX7iGNwamR1WpKTJVtSZdE5GhedC5jhTKKJrAqwx8NZiHwY694xDXITmvCqKVVnMckSr4E+ScCFrnzcs6K5Mi2SQPsR+QsgGHtMwwXA5TdujpVHFRZTib74AxBfCrOuIHN4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"disappear\"\n        title=\"\"\n        src=\"/static/bb5cd49e74c797d08c2828cfdfdfc2d3/1cfc2/disappear.png\"\n        srcset=\"/static/bb5cd49e74c797d08c2828cfdfdfc2d3/3684f/disappear.png 225w,\n/static/bb5cd49e74c797d08c2828cfdfdfc2d3/fc2a6/disappear.png 450w,\n/static/bb5cd49e74c797d08c2828cfdfdfc2d3/1cfc2/disappear.png 900w,\n/static/bb5cd49e74c797d08c2828cfdfdfc2d3/21482/disappear.png 1350w,\n/static/bb5cd49e74c797d08c2828cfdfdfc2d3/d61c2/disappear.png 1800w,\n/static/bb5cd49e74c797d08c2828cfdfdfc2d3/6c68b/disappear.png 1888w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n부하 테스트를 진행하면서 메트릭이 안보이는 경우가 있었는데 <code class=\"language-text\">/actuator/prometheus</code> API도 8080 포트로 조회하고 있어서 이 API 요청을 처리할 스레드가 없어서 메트릭이 조회가 안되었다.<br>\n다른 포트로 할당해주면 된다. <code class=\"language-text\">management.server.port</code> 설정을 8080 포트와 분리해주면 된다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c9ce19f5b404148390d5a8538f517c12/6c68b/300ms-delay.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChklEQVR42lWT6XLUMBCE/Qwp1pcs65blY8+wSyAJKX7x/k/UtORQBT+6ZJ0z0/O5ui5HRGUh6w6qFVDdsKvt0TQ9Du2ATiiM2kNSTSdRc22X+E+HRqB6NgoXKXDzFj9/fMfH+/uu1wecd2jEiNF6DMahVwadVGiHES3HTumingkJE9FwvRqMR28s7OkKc77BnC6f4vfxDOkcBm2hecZYAxM83DTBp0RxnDmuG9dmDAxSLccL4rzBuAliZESpmQGjcnPIVvAxyaD53MoAKwNrFzEy47KnDZJWCMbwjkYlteZDIycSkunHYHGdmRGzEaMpe/nhjt9tKVeh7mVR9naTIzYmcuW5RkiWnLOgrJ/wYMm/7g/8/vbA5XSHmh/QfmE2vpQt6eGY7XEWx+gZOOItedyXCR+Lh8glh3REmDb4OMPzUalcyUhrB0Vpmt1Lw70Az+ZEz/JTwBQDm+axeYML9ZWSIx+clhNsmFmaRU1cmk4UHTIGROcL0Wlzp01gIMdzDl+IzFPd46nZz/QZsb/YZBRamtnTh8us8XayeDtbeKdRi92zgZkKltxnREZTGqaJ2+Q11qgojS1pGDanikx9ZvvPW8T9FPF8zF5yvkYE+hQnzwYRFZ/nExJxyefnedeUdi3EJ6NVrWTuxGasxEK5UHDIUpb+fSo3w8ZE1hayt8AywMzLyVLEJfI7N65g0426lJWRyKTXYkfi8I/yvKVERqUfMQ8SiWc97yy0YZMDfZblbiW4kDMoIqTSZDRMST/wL5n4+2VEbikWXVjea9rnZ5b8cky4k92B7+S3qom/UWCpgWV4GxBjpB8R28KRl1JRXvdFnp5fo8VLNLhxvEWHR8hY0Sbj8Ac93YiE06VDYwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"300ms delay\"\n        title=\"\"\n        src=\"/static/c9ce19f5b404148390d5a8538f517c12/1cfc2/300ms-delay.png\"\n        srcset=\"/static/c9ce19f5b404148390d5a8538f517c12/3684f/300ms-delay.png 225w,\n/static/c9ce19f5b404148390d5a8538f517c12/fc2a6/300ms-delay.png 450w,\n/static/c9ce19f5b404148390d5a8538f517c12/1cfc2/300ms-delay.png 900w,\n/static/c9ce19f5b404148390d5a8538f517c12/21482/300ms-delay.png 1350w,\n/static/c9ce19f5b404148390d5a8538f517c12/d61c2/300ms-delay.png 1800w,\n/static/c9ce19f5b404148390d5a8538f517c12/6c68b/300ms-delay.png 1888w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>Tomcat 스레드보다 많이 요청됐지만 정상 처리됨.</li>\n<li>DB Connection 대기 시간도 30초 직전까지 보임</li>\n<li>그렇기에 응답 시간도 최악 30초 직전</li>\n</ol>\n<p>일단 이것을 보고 떠오른 속성은 <code class=\"language-text\">db connection timeout</code>이다.<br>\n일반적인 상황에서 DB Connection을 얻기 위해 30초 동안 대기한다는 것은 부하가 몰리는 경우 심각한 장애를 일으킬 확률이 높다.</p>\n<ul>\n<li><strong>Tomcat Thread Pool 고갈</strong></li>\n<li><strong>사용자가 너무 많은 재시도를 할 확률이 높음</strong></li>\n<li><strong>재시도를 많이하면 죽은 요청이 많이 발생함</strong></li>\n</ul>\n<p>빠르게 실패하도록 (Fail Fast) 타임아웃을 지정하고 테스트해보자.</p>\n<h2 id=\"connection-timeout-지정\" style=\"position:relative;\">connection-timeout 지정<a href=\"#connection-timeout-%EC%A7%80%EC%A0%95\" aria-label=\"connection timeout 지정 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<deckgo-highlight-code language=\"diff\" terminal=\"carbon\" theme=\"one-light\" line-numbers=\"true\"  >\n          <code slot=\"code\">hikari:\n   pool-name: StockHikariPool\n   maximum-pool-size: 5             # 병목 시뮬레이션용 (기본값: 10)\n+  connection-timeout: 3000         # 3초로 지정 (기본값: 30,000)</code>\n        </deckgo-highlight-code>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/76970ac563ea6a4a9775b98d060ee9a6/44d2c/300ms-stress-test.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.77777777777779%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAADF0lEQVR42lVUyZLcRBTUJ0Dg6dZW+6qtJXW3x+MYGwJzBBwcuBNEcOXMlStfnaQkgz2HjKd69bbKylLh04Dcz6iFQVXW0OcK4tzAVS1MWaE513goW2RlsFiLQSpE+mNZIrftjtQ0yERTNii0T2i0xVkoeK2xriu+ffuM3z68w6/PdwxGs5lCZrGkWExKBGLsOqzXK5YN68K8BdYYFnQRxjkoJth+wriseMPNx3XGm+uC5TJBaIPWMMZZKO/g+oGxPVRK0CnvMGzQsnlhY8YwzXC0xoU9+dRKQqHkZIJTN1Jzv0fPuH7iJLFDw31JGj7DomReIdj5SJKohIC2Dkuf8HTJsKSjNREtmzTS7AmnRkKz0VMf8H5OL6BISSG0YwInMwEuZFzHGc/LFe/XK7p+hYwLhE2QbGRJTfAWj2PC60vCjbhPtMTjnOEdOXShwzzfkdK4F2yVw0OjOImG4FSSqLmWxsP4DMUBJE9VCV5Wq2nN/zjXPLLkZNqlPWFzlk0LZySsljg3Aqf6gGQh5/1+kppNTpTVFttQNkJsEGi4LpRlQCvIj+BEEvfekA+DdxfDIyg2UZxak1uP5DkR42pO563BGC2mZHc70kbHW5YsmPtMdBjHDsOQyV3GOHToaUOmNMidoLxCHuBTj0SJxJzhKJdNHZ6IuYNh02LwATdq6jaMmLZNThT4Ghxt5K11nC4riYETXULATIzU4+brtDos46w8KCoGqjvz/Ik8RNpITgKf0cKA74PBj4PDxyXipx3hwBrx8yds/o+0o1F4Ra53HbpN/c4jkvQcPKYu4jZmzEPChRRcqMsXGL78PvZ9pPR4msLzCIHKr1i95rV/c5JoKeCSAi65Litx2Fp8wvFdNS/99RbPm9/f8oYHJr5qG3z3WuDrut51locZmwocZWX8Z1hqd7N691Ob7vAJSq+o2u1vIvEVu/z94Qr8+Qt+fxq55kXw1cSel9Vd0I8LOiLT101ffjNmmHafowIoGw9LCWTir8e3+Of2A/643lGSj9CNu0x6Fkz8E/2HjoU2u+3n4YK4Wfq2n8a/2k3nZvyzjdsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"300ms stress test\"\n        title=\"\"\n        src=\"/static/76970ac563ea6a4a9775b98d060ee9a6/1cfc2/300ms-stress-test.png\"\n        srcset=\"/static/76970ac563ea6a4a9775b98d060ee9a6/3684f/300ms-stress-test.png 225w,\n/static/76970ac563ea6a4a9775b98d060ee9a6/fc2a6/300ms-stress-test.png 450w,\n/static/76970ac563ea6a4a9775b98d060ee9a6/1cfc2/300ms-stress-test.png 900w,\n/static/76970ac563ea6a4a9775b98d060ee9a6/21482/300ms-stress-test.png 1350w,\n/static/76970ac563ea6a4a9775b98d060ee9a6/d61c2/300ms-stress-test.png 1800w,\n/static/76970ac563ea6a4a9775b98d060ee9a6/44d2c/300ms-stress-test.png 1899w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>정상 처리량은 이전과 비슷하지만 DB Connection을 얻기 위해 3초까지만 대기하기 때문에 (예외 응답이긴 하지만) 3초로 유지되고 있는 것을 확인할 수 있다.<br>\n그럼에도 빠르게 응답을 반환하여 서버 자원을 빠르게 반환하고 예외를 통한 모니터링이나 서킷브레이커에 빠르게 전파하는게 좋다고 생각된다.</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-light\" line-numbers=\"true\"  >\n          <code slot=\"code\">java.sql.SQLTransientConnectionException: StockHikariPool - Connection is not available, request timed out after 3001ms (total=5, active=5, idle=0, waiting=94)\n\tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:714)\n\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:184)\n   ...</code>\n        </deckgo-highlight-code>\n<h2 id=\"maximum-pool-size-튜닝\" style=\"position:relative;\">maximum-pool-size 튜닝<a href=\"#maximum-pool-size-%ED%8A%9C%EB%8B%9D\" aria-label=\"maximum pool size 튜닝 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이 글의 핵심인 pool size를 튜닝해보자. 각 API는 300ms 지연은 불가피한 상황에서 pool size를 튜닝해서 처리량을 증가시키고 에러율을 낮출 수 있을지, 그리고 pool size가 크면 클수록 이득인건지 확인해보자.</p>\n<h3 id=\"pool-size-5개인-현재-상황-분석\" style=\"position:relative;\">pool size 5개인 현재 상황 분석<a href=\"#pool-size-5%EA%B0%9C%EC%9D%B8-%ED%98%84%EC%9E%AC-%EC%83%81%ED%99%A9-%EB%B6%84%EC%84%9D\" aria-label=\"pool size 5개인 현재 상황 분석 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>지표</th>\n<th>관찰 결과</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Request Rate</td>\n<td>정상 응답률은 피크 시 <code class=\"language-text\">8~9 req/s</code>로 제한됨</td>\n</tr>\n<tr>\n<td>Response Time (avg)</td>\n<td><strong>3초로 고정</strong> (db connection-timeout에 의해 제한됨)</td>\n</tr>\n<tr>\n<td>Connection Acquire p99</td>\n<td><strong>3초에서 평탄화</strong> (커넥션 획득 대기가 db connection-timeout에 의해 제한됨)</td>\n</tr>\n<tr>\n<td>Pending Connections</td>\n<td>최대 <strong>90개 이상</strong> 대기 중</td>\n</tr>\n<tr>\n<td>Error Count</td>\n<td>VU 25명 이상부터 <strong>에러</strong> 발생 (최대 2K)</td>\n</tr>\n</tbody>\n</table>\n<p>5개의 커넥션이 모두 active 상태이고, 대기 큐가 계속 쌓이고 있는 상황이다.<br>\n현재 환경 기준으로 단계별 테스트를 진행해보자.</p>\n<h3 id=\"테스트-결과\" style=\"position:relative;\">테스트 결과<a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC\" aria-label=\"테스트 결과 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Pool Size</th>\n<th align=\"center\">그라파나</th>\n<th align=\"center\">초당 처리량</th>\n<th align=\"center\">평균 응답 시간</th>\n<th align=\"center\">응답 시간 (99% 기준)</th>\n<th align=\"center\">커넥션 대기 요청 수</th>\n<th align=\"center\">에러 수</th>\n<th align=\"center\">MySQL 초당 쿼리</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><strong>10개</strong> (기본값, 현재 대비 2배)</td>\n<td align=\"center\"><a href=\"/stress/pool-size-10.png\" target=\"_blank\">보기</a></td>\n<td align=\"center\">16 req/s</td>\n<td align=\"center\">2.3s</td>\n<td align=\"center\">3.22s</td>\n<td align=\"center\">90</td>\n<td align=\"center\">1K</td>\n<td align=\"center\">211</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>20개</strong></td>\n<td align=\"center\"><a href=\"/stress/pool-size-20.png\" target=\"_blank\">보기</a></td>\n<td align=\"center\">32 req/s</td>\n<td align=\"center\">1.4s</td>\n<td align=\"center\">3.17s</td>\n<td align=\"center\">80</td>\n<td align=\"center\">560</td>\n<td align=\"center\">418</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>30개</strong></td>\n<td align=\"center\"><a href=\"/stress/pool-size-30.png\" target=\"_blank\">보기</a></td>\n<td align=\"center\">48 req/s</td>\n<td align=\"center\">1.0s</td>\n<td align=\"center\">3.15s</td>\n<td align=\"center\">70</td>\n<td align=\"center\">228</td>\n<td align=\"center\">623</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>50개</strong> (Tomcat 스레드의 50%)</td>\n<td align=\"center\"><a href=\"/stress/pool-size-50.png\" target=\"_blank\">보기</a></td>\n<td align=\"center\">80 req/s</td>\n<td align=\"center\">0.5s</td>\n<td align=\"center\">2.40s</td>\n<td align=\"center\">50</td>\n<td align=\"center\">62</td>\n<td align=\"center\">1.04K</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>70개</strong></td>\n<td align=\"center\"><a href=\"/stress/pool-size-70.png\" target=\"_blank\">보기</a></td>\n<td align=\"center\">112 req/s</td>\n<td align=\"center\">0.45s</td>\n<td align=\"center\">1.07s</td>\n<td align=\"center\">30</td>\n<td align=\"center\"><strong>0</strong></td>\n<td align=\"center\">1.45K</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>100개</strong> (Tomcat 스레드와 동일)</td>\n<td align=\"center\"><a href=\"/stress/pool-size-100.png\" target=\"_blank\">보기</a></td>\n<td align=\"center\">159 req/s</td>\n<td align=\"center\">0.36s</td>\n<td align=\"center\">0.62s</td>\n<td align=\"center\"><strong>0</strong></td>\n<td align=\"center\"><strong>0</strong></td>\n<td align=\"center\">2.06K</td>\n</tr>\n</tbody>\n</table>\n<deckgo-highlight-code language=\"diff\" terminal=\"carbon\" theme=\"one-light\" line-numbers=\"true\"  >\n          <code slot=\"code\">+ 선형적 처리량 증가 (이 테스트에서는 Pool Size가 병목의 유일한 원인이었기 때문에 선형 증가가 나타난 것 같음)\nPool 10 → 20 → 30 → 50 → 70 → 100\nTPS  16 → 32 → 48 → 80 → 112 → 159 (거의 비례 증가)\n\n+ 응답 시간 급격한 개선\nPool 10: p99 = 3.22초\nPool 50: p99 = 2.40초\nPool 70: p99 = 1.07초\nPool 100: p99 = 0.62초\n\n+ Pool 70부터 에러 0 달성\nPool 100에서 Pending 0\n\n+ MySQL 부하 비례 증가\nPool 10: Connected 10, QPS 211\nPool 100: Connected 100, QPS 2.06K (10배 증가)</code>\n        </deckgo-highlight-code>\n<h2 id=\"pool-size를-최대로-잡는-게-최선일까\" style=\"position:relative;\">Pool Size를 최대로 잡는 게 최선일까?<a href=\"#pool-size%EB%A5%BC-%EC%B5%9C%EB%8C%80%EB%A1%9C-%EC%9E%A1%EB%8A%94-%EA%B2%8C-%EC%B5%9C%EC%84%A0%EC%9D%BC%EA%B9%8C\" aria-label=\"pool size를 최대로 잡는 게 최선일까 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>병목 상황을 만들기 위해 조회 API에서 300ms 지연된다고 가정했는데, 이 상황에서는 에러율이 0인 70개가 적절할 수 있다.<br>\n만약 실제 운영 환경이라면 어떤 의사결정을 해야할까?</p>\n<ol>\n<li>DB Connection 반환 지연을 줄일 수 있나?</li>\n<li>목표로하는 TPS가 몇인가?</li>\n<li>에러를 일부 허용할 수 있는 상황인가?</li>\n<li>DB 서버 리소스 부담은 괜찮은가?\n<ul>\n<li><code class=\"language-text\">(서버 수 × pool size) &lt; db max_connections</code> 충분한가?</li>\n<li>pool size만큼 한 번에 connection을 맺기에 커넥션 생성 시간은 괜찮은가?</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>300ms에서 100ms로 개선에 성공했다고 가정하고, 목표 TPS는 150이라고 가정한 상황에서 최적의 pool size를 찾아보자</p>\n</blockquote>\n<h3 id=\"목표-tps-150으로-다시-테스트\" style=\"position:relative;\">목표 TPS 150으로 다시 테스트<a href=\"#%EB%AA%A9%ED%91%9C-tps-150%EC%9C%BC%EB%A1%9C-%EB%8B%A4%EC%8B%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"목표 tps 150으로 다시 테스트 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>TODO</p>\n<h3 id=\"hikaricp-기본값\" style=\"position:relative;\">HikariCP 기본값<a href=\"#hikaricp-%EA%B8%B0%EB%B3%B8%EA%B0%92\" aria-label=\"hikaricp 기본값 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>설정</th>\n<th>기본값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">maximum-pool-size</code></td>\n<td>10</td>\n<td>최대 커넥션 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">minimum-idle</code></td>\n<td>10</td>\n<td>최소 유휴 커넥션 (= maximum-pool-size)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">connection-timeout</code></td>\n<td>30,000ms</td>\n<td>커넥션 획득 대기 시간</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">idle-timeout</code></td>\n<td>600,000ms</td>\n<td>유휴 커넥션 제거 시간 (10분)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">max-lifetime</code></td>\n<td>1,800,000ms</td>\n<td>커넥션 최대 수명 (30분)</td>\n</tr>\n</tbody>\n</table>\n<p>모니터링 필수 지표</p>\n<ul>\n<li><code class=\"language-text\">connections_active</code></li>\n<li><code class=\"language-text\">connections_pending</code></li>\n<li><code class=\"language-text\">connections_acquire_seconds</code></li>\n</ul>","frontmatter":{"title":"DBCP maximum-pool-size 튜닝하기","date":"2025-12-20","update":"2025-12-20","description":null,"tags":["tuned","dbcp"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B8%B0%EC%A4%80\">부하 테스트 기준</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EC%83%81%EC%A0%81%EC%9D%B8-%EC%83%81%ED%99%A9\">정상적인 상황</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B0%81-%EC%A1%B0%ED%9A%8C-api-300ms-%EC%A7%80%EC%97%B0-%EC%83%81%ED%99%A9\">각 조회 API 300ms 지연 상황</a></p>\n</li>\n<li>\n<p><a href=\"#connection-timeout-%EC%A7%80%EC%A0%95\">connection-timeout 지정</a></p>\n</li>\n<li>\n<p><a href=\"#maximum-pool-size-%ED%8A%9C%EB%8B%9D\">maximum-pool-size 튜닝</a></p>\n<ul>\n<li><a href=\"#pool-size-5%EA%B0%9C%EC%9D%B8-%ED%98%84%EC%9E%AC-%EC%83%81%ED%99%A9-%EB%B6%84%EC%84%9D\">pool size 5개인 현재 상황 분석</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC\">테스트 결과</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#pool-size%EB%A5%BC-%EC%B5%9C%EB%8C%80%EB%A1%9C-%EC%9E%A1%EB%8A%94-%EA%B2%8C-%EC%B5%9C%EC%84%A0%EC%9D%BC%EA%B9%8C\">Pool Size를 최대로 잡는 게 최선일까?</a></p>\n<ul>\n<li><a href=\"#%EB%AA%A9%ED%91%9C-tps-150%EC%9C%BC%EB%A1%9C-%EB%8B%A4%EC%8B%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\">목표 TPS 150으로 다시 테스트</a></li>\n<li><a href=\"#hikaricp-%EA%B8%B0%EB%B3%B8%EA%B0%92\">HikariCP 기본값</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/wiki/claude/"},"frontmatter":{"title":"클로드 코드 잘 사용하기"}},"next":null},"pageContext":{"id":"d5fa2548-1943-5a23-9a49-d6996e4c0e77","previousPostId":"22f1ff27-5ac0-5e54-a107-0aba4b8ae9f2","nextPostId":null}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}