{"componentChunkName":"component---src-templates-blog-post-js","path":"/2023y/kotlinCleanCode/","result":{"data":{"site":{"siteMetadata":{"title":"코딩 주머니"}},"markdownRemark":{"id":"b677c3a8-cc5d-53e4-b208-32182b932765","excerpt":"TDD, 클린 코드 with Kotlin \"객체지향 프로그래밍 언어를 사용하여 모든 코드를 Service 클래스에 몰아 넣고 객체지향 프로그래밍이라고 생각하지만 절차지향 프로그래밍 스타일로 작성한 경우가 대부분일 것이다.\" 디자인 패턴의 아름다움에서…","html":"<h1 id=\"tdd-클린-코드-with-kotlin\" style=\"position:relative;\">TDD, 클린 코드 with Kotlin<a href=\"#tdd-%ED%81%B4%EB%A6%B0-%EC%BD%94%EB%93%9C-with-kotlin\" aria-label=\"tdd 클린 코드 with kotlin permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<blockquote>\n<p>\"객체지향 프로그래밍 언어를 사용하여 모든 코드를 Service 클래스에 몰아 넣고 객체지향 프로그래밍이라고 생각하지만 절차지향 프로그래밍 스타일로 작성한 경우가 대부분일 것이다.\"<br>\n디자인 패턴의 아름다움에서</p>\n</blockquote>\n<h2 id=\"1주차\" style=\"position:relative;\">1주차<a href=\"#1%EC%A3%BC%EC%B0%A8\" aria-label=\"1주차 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<blockquote>\n<p>응집도가 높고 견고한 클래스에는 적은 수의 메서드와 상대적으로 더 많은 수의 생성자가 존재한다.<br>\n생성자의 주된 임무는 제공된 인자를 사용해서 캡슐화된 프로퍼티를 초기화하는 것이고, 메서드의 수가 많을수록 SRP을 위반할 확률이 높지만 생성자는 많을수록 클라이언트가 유연하게 사용할 수 있다.</p>\n</blockquote>\n<p>1주차는 5단계로 이루어져 있었다.</p>\n<p><strong>1단계</strong>: 환경 세팅<br>\n<strong>2단계</strong>: <a href=\"https://github.com/next-step/kotlin-racingcar/pull/1315\">문자열 계산기</a><br>\n<strong>3단계</strong>: <a href=\"https://github.com/next-step/kotlin-racingcar/pull/1381\">자동차 경주 구현</a><br>\n<strong>4단계</strong>: <a href=\"https://github.com/next-step/kotlin-racingcar/pull/1440\">자동차 경주 우승자 기능 추가</a><br>\n<strong>5단계</strong>: <a href=\"https://github.com/next-step/kotlin-racingcar/pull/1473\">자동차 경주 리팩토링</a></p>\n<p>자동차 경주는 우테캠 프리코스에서 한 번 해본 경험도 있었고 기능 자체는 간단하여 쉬울 줄 알았지만.. 여전히 책임을 나누는 것이 쉽지 않았다.</p>\n<blockquote>\n<p>3단계</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d6e13609130319cdba415623b94b5f35/63908/racingCarInit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVR42oWS626cMBCFeY7d5WJzW1hYwgLhYm62AQNOyG6SX63U93+MTDZVVbVSa32y5sfMOccjK5eipNPSUU4YD5LUdf2qZQ0TlI9lVSdZUbW87lmSPmYFKfup5xNlQ9120UOiVHQcXn+0y9as8qEkvh+WVBC+tnQkTZ+TftnexHJtOk6FnLdv43pbnja53fKyVgxkm7ZvWS7Ctqah3V7b7VVNRwhZ/ikAzmF0OoWeF0APxhbGtqohA1mAoukYmUeYhLumIxsFH0WaFY7r8+VlWK/TvAB3kTQvSoiTZjm6SyiagXVka7pl2l7FFsJly0SS5Y7jz9fvVL6LRc7yOQjjmgn29D6sL8M0u15wUA1FVY0vDgd9t1P3Bx2ZjnM8uUff8wPb8W3Hw6ajGyYAUb8K3cAQWQmjOHks4JCmKSoSX5IwSoZ1mxd59ALQgngAbAG4F/gXSlW38voGKyVtf44u4TnWQf5zHzY4/N76Nwo4Cvm83V4ZG6L4AsE+5X9a4f8MJ3ndjJJ0Q9Mx+Crwwj+y/WP4A/QMblLkjM7cAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"racingCarInit\"\n        title=\"\"\n        src=\"/static/d6e13609130319cdba415623b94b5f35/1cfc2/racingCarInit.png\"\n        srcset=\"/static/d6e13609130319cdba415623b94b5f35/3684f/racingCarInit.png 225w,\n/static/d6e13609130319cdba415623b94b5f35/fc2a6/racingCarInit.png 450w,\n/static/d6e13609130319cdba415623b94b5f35/1cfc2/racingCarInit.png 900w,\n/static/d6e13609130319cdba415623b94b5f35/21482/racingCarInit.png 1350w,\n/static/d6e13609130319cdba415623b94b5f35/d61c2/racingCarInit.png 1800w,\n/static/d6e13609130319cdba415623b94b5f35/63908/racingCarInit.png 2410w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>5단계</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/91b1079b44ceaac4371eace9d0cfa0b4/cb88c/racingCar.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEUlEQVR42pVT2ZKbMBDkNzY292VsYw4JCWTA4IP7MOvd8lv+/zMyxqlNKg+uTdWUHkT3qKen4TwcZsfL8VzaO3fJS6KkCOJ3i9s6XhRnJIpX1nYmq/9BxmQf7VPG4iCgurHiBfk1Abo/60Huh3tR9sN0G6cPeHyxFPmXZAA8C2RyK83QNUMzLE03ZUVTVQNOUVR4XlryDwRoWc5QuBFE1XZ818MooIa55pr+vemvWX7ML23Rf9bDrerGKIpRCFac2D5xEGKHfH/IaJJatlO1Y9lOzTDhgHJhlHqY+pgQdkBhQvcpYcnORTs/cANmu8i0trZPLNt1UKBbG0oZCSIUhNZmx8FuJFmD0zTX683O97HjeIZhwXigVhRlWVZ0fWWYFjgCGLBqwYuAh3E4SXkwN7ZXjvf6eq+athuvh/y0FGRFNfKyPfX3crjVbVfWzaWskkMGj2n6Cr5y0ODHQtSMdXgoWFZEcZpkR4Tp29sSQDhK0f6EaIJJ6GESUAYTfS2Mg92apgWqnm7Pt8rWwXGawQ0vSIIgzc7LXxv6E5JzMxXtte3HuhvAwOdKYHbKYlUzH5l55EH9Jx6/ydXwXveT6yEQCQW9Vd3My+5Udds57a/imZd9UdX5qQhIiANirbeKZhT1UFSd7XjQ60Xauer2M+8+yvGzv75348TidCZ878egWUWSM9hDKAtZDOl7LfVv8i/J7aL+UZ8+2QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"racingCar\"\n        title=\"\"\n        src=\"/static/91b1079b44ceaac4371eace9d0cfa0b4/1cfc2/racingCar.png\"\n        srcset=\"/static/91b1079b44ceaac4371eace9d0cfa0b4/3684f/racingCar.png 225w,\n/static/91b1079b44ceaac4371eace9d0cfa0b4/fc2a6/racingCar.png 450w,\n/static/91b1079b44ceaac4371eace9d0cfa0b4/1cfc2/racingCar.png 900w,\n/static/91b1079b44ceaac4371eace9d0cfa0b4/21482/racingCar.png 1350w,\n/static/91b1079b44ceaac4371eace9d0cfa0b4/d61c2/racingCar.png 1800w,\n/static/91b1079b44ceaac4371eace9d0cfa0b4/cb88c/racingCar.png 2728w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>(5단계 까지 기능이 추가되긴 했지만) 다이어그램을 보면 네이밍과 책임이 더 분리된 것을 확인할 수 있다.<br>\n이번 과제를 진행하면서 느낀점은 아래와 같다.</p>\n<ol>\n<li>계층간 \"결과 객체\"인 DTO를 추가하여 결합도를 낮출 수 있었다.</li>\n<li>비즈니스 로직과 IO 로직이 혼재해있었는데, 중간 DTO를 추가하니 책임과 역할이 더 잘 보였다.</li>\n<li>DIP를 잘 지켜내면 작성하면 테스트가 쉽다.</li>\n<li>랜덤 기능과 같이 테스트가 불가능한 기능은 최대한 외부로 밀어내라. 또한 추상화를 통해 가짜 객체를 통해 테스트 할 수도 있다.</li>\n<li>백킹 필드를 고려해라.</li>\n<li>예측하지 못하거나, 비정상적인 오류인 경우에는 예외로 처리하지만 그 외는 null로 표현할 수 있도록 해라.</li>\n<li>\"You Aren't Gonna Need It\"</li>\n<li>data class는 equals와 hashCode, copy가 필요하다면 사용하는 것이다. 기능이 있다고 이상하게 생각하지마라</li>\n</ol>\n<p>이제 2주차 부터 TDD를 진행하기 위해서는 <strong>요구 사항 분석 및 설계</strong> 가 필수이다.<br>\n과제를 진행하면서 README에 <strong>구현할 기능 목록을 작성하여</strong> 해당 기능들을 한 개씩 TDD로 진행해봐야겠다.<br>\n구현할 기능 목록을 작성하고 고민되는 지점을 시각화하는 것 자체가 이미 훈련이다.</p>\n<h2 id=\"2주차\" style=\"position:relative;\">2주차<a href=\"#2%EC%A3%BC%EC%B0%A8\" aria-label=\"2주차 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ol start=\"10\">\n<li>JvmInline과 value class</li>\n<li>리스코프 치환 원칙을 위반한 예제</li>\n<li>상속이 문제가 아니라 상속을 잘 활용하는 것이 문제다.</li>\n<li>코틀린에서 Int와 Integer를 처리하는 방법과 Int의 캐싱 범위 예제</li>\n<li>백킹 프로퍼티를 활용한 방어적 복사</li>\n<li><a href=\"https://codingnuri.com/seven-virtues-of-good-object/\">좋은 객체의 7가지 덕목</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=dJ5C4qRqAgA&#x26;ab_channel=%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC\">우아한객체지향 by 우아한형제들 개발실장 조영호</a></li>\n<li><a href=\"https://d2.naver.com/helloworld/9879422\">Spring Batch를 더 우아하게 사용하기 - Spring Batch Plus</a></li>\n</ol>","frontmatter":{"title":"NEXTSTEP 클린코드 with Kotlin 후기 (작성 중)","date":"December 10, 2023","description":null,"tags":["oop","kotlin","cleancode"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#tdd-%ED%81%B4%EB%A6%B0-%EC%BD%94%EB%93%9C-with-kotlin\">TDD, 클린 코드 with Kotlin</a></p>\n<ul>\n<li><a href=\"#1%EC%A3%BC%EC%B0%A8\">1주차</a></li>\n<li><a href=\"#2%EC%A3%BC%EC%B0%A8\">2주차</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/2023y/oop/"},"frontmatter":{"title":"좋은 코드, 고품질 코드란?"}},"next":{"fields":{"slug":"/2023y/bookReview/bookReview/"},"frontmatter":{"title":"2023년 책,강의 서평"}}},"pageContext":{"id":"b677c3a8-cc5d-53e4-b208-32182b932765","previousPostId":"3559ae51-0f2f-5583-b59a-840f0d2b8c2e","nextPostId":"f3b698c4-c3b9-528f-8e0d-5b72c0a3f2ac"}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}