---
layout: default
title: ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
grand_parent: ìŠ¤í”„ë§ í•µì‹¬
parent: ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ ì´í•´
nav_order: 3
---

# ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
{: .no_toc }

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---
## **AppConfig ë“±ì¥**

ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ë™ì‘ ë°©ì‹ì„ êµ¬ì„±(Config)í•˜ê¸° ìœ„í•´ , **êµ¬í˜„ê°ì²´ë¥¼ ìƒì„±**í•˜ê³  , **ì—°ê²°**í•˜ëŠ” ì±…ì„ì„ ê°€ì§€ëŠ” ë³„ë„ì˜ ì„¤ì • í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì

```java
package hello.core;

import hello.core.discount.FixDiscountPolicy;
import hello.core.member.MemberService;
import hello.core.member.MemberServiceImpl;
import hello.core.member.MemoryMemberRepository;
import hello.core.order.OrderService;
import hello.core.order.OrderServiceImpl;

public class AppConfig {

    public MemberService memberService(){
        return new MemberServiceImpl(new MemoryMemberRepository());
    }

    public OrderService orderService(){
        return new OrderServiceImpl(
          new MemoryMemberRepository(),
          new FixDiscountPolicy());
    }
}
```

### **MemberServiceImpl**
  ```java
  package hello.core.member;

public class MemberServiceImpl implements MemberService{

    private final MemberRepository memberRepository;

    public MemberServiceImpl(MemberRepository memberRepository) {	// ìƒì„±ì ì£¼ì…ìœ¼ë¡œ ë³€ê²½
        this.memberRepository = memberRepository;
    }

    @Override
    public void join(Member member) {
        memberRepository.save(member);
    }

    @Override
    public Member findMember(Long memberId) {
        return memberRepository.findById(memberId);
    }
}
  ```
### **OrderServiceImpl**
  ```java
  package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;

public class OrderServiceImpl implements OrderService{

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

	//ìƒì„±ì ì£¼ì…ìœ¼ë¡œ ë³€ê²½
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member , itemPrice);

        return new Order(memberId , itemName , itemPrice , discountPrice);
    }
}
```

### ğŸ“Œ**AppConfig**
- AppConfigëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ë™ì‘ì— í•„ìš”í•œ <span style="color:red; font-weight:bold">êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±</span>í•œë‹¤.
  - **MemberServiceImpl**
  - **MemoryMemberServiceImpl**
  - **OrderServiceImpl**
  - **FixDiscountImpl**
- AppConfigëŠ” ìƒì„±í•œ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡°(ë ˆí¼ëŸ°ìŠ¤)ë¥¼ <span style="color:red; font-weight:bold">ìƒì„±ìë¥¼ í†µí•´ì„œ ì£¼ì…(ì—°ê²°)</span>í•´ì¤€ë‹¤.
  - **MemberServiceImpl âœ MemoryMemberRepository**
  - **OrderServiceImpl âœ MemoryMemberRepository , FixDiscountPolicy**
- ì„¤ê³„ ë³€ê²½ìœ¼ë¡œ MemberServiceImplì€ MemoryMemberRepositoryë¥¼ ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ë‹¨ì§€ MemberRepositoryì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´í•œë‹¤.
- MemberServiceImplì…ì¥ì—ì„œ ìƒì„±ìë¥¼ í†µí•´ ì–´ë–¤ êµ¬í˜„ ê°ì²´ê°€ ë“¤ì–´ì˜¬ì§€(ì£¼ì…ë ì§€)ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤.
- MemberServiceImplì˜ ìƒì„±ìë¥¼ í†µí•´ì„œ ì–´ë–¤ êµ¬í˜„ ê°ì²´ë¥¼ ì£¼ì…í• ì§€ëŠ” ì˜¤ì§ ì™¸ë¶€ (**AppConfig**)ì—ì„œ ê²°ì •ëœë‹¤.
- MemberServiceImplì€ ì´ì œë¶€í„° <span style="color:red; font-weight:bold">ì˜ì¡´ê´€ê³„ì— ëŒ€í•œ ê³ ë¯¼ì€ ì™¸ë¶€</span>ì— ë§¡ê¸°ê³  <span style="color:red; font-weight:bold">ì‹¤í–‰ì—ë§Œ ì§‘ì¤‘</span>í•˜ë©´ ëœë‹¤.
![](../../assets/images/spring-core/spring-core-understand/5.png)
- ê°ì²´ì˜ ìƒì„±ê³¼ ì—°ê²°ì€ AppConfigê°€ ë‹´ë‹¹í•œë‹¤.
- **DIP ì™„ì„±** : MemberServiceImplì€ MemberRepositoryì¸ ì¶”ìƒì—ë§Œ ì˜ì¡´í•˜ë©´ ëœë‹¤. ì´ì œ êµ¬ì²´ í´ë˜ìŠ¤ë¥¼ ëª°ë¼ë„ ëœë‹¤.
- **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬** : ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì—°ê²°í•˜ëŠ” ì—­í• ê³¼ ì‹¤í–‰í•˜ëŠ” ì—­í• ì´ ëª…í™•íˆ ë¶„ë¦¬ ë˜ì—ˆë‹¤.
![](../../assets/images/spring-core/spring-core-understand/6.png)
- appConfigê°ì²´ëŠ” memoryMemberRepository ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê·¸ ì°¸ì¡°ê°’ì„ memberServiceImplì„ ìƒì„±í•˜ë©´ì„œ ìƒì„±ìë¡œ ì „ë‹¬í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ì¸ MemberServiceImplì…ì¥ì—ì„œ ë³´ë©´ ì˜ì¡´ê´€ê³„ë¥¼ ë§ˆì¹˜ ì™¸ë¶€ì—ì„œ ì£¼ì…í•´ì£¼ëŠ” ê²ƒ ê°™ë‹¤ê³  í•´ì„œ
- **DI(Dependency Injection) ìš°ë¦¬ë§ë¡œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë˜ëŠ” ì˜ì¡´ì„± ì£¼ì…ì´ë¼ í•œë‹¤.**

* * *

## **AppConfig ë¦¬íŒ©í† ë§**
í˜„ì¬ AppConfigë¥¼ ë³´ë©´ **ì¤‘ë³µ**ì´ ìˆê³  , **ì—­í• **ì— ë”°ë¥¸ **êµ¬í˜„**ì´ ì˜ ì•ˆë³´ì¸ë‹¤.
![](../../assets/images/spring-core/spring-core-understand/7.png)

### **AppConfig ìˆ˜ì • ì „**
```java
public class AppConfig {

    public MemberService memberService(){
        return new MemberServiceImpl(new MemoryMemberRepository());
    }

    public OrderService orderService(){
        return new OrderServiceImpl(
            new MemoryMemberRepository(),
            new FixDiscountPolicy());
    }
}
```

### **AppConfig ìˆ˜ì • í›„**
```java
public class AppConfig {

    // ê°ì²´ ìƒì„±ì„ ë©”ì†Œë“œ ì²˜ë¦¬
    private MemberRepository memberRepository() {
        return new MemoryMemberRepository();
        // ìƒˆë¡œìš´ êµ¬í˜„ì²´ë¥¼ ì£¼ì… í•˜ê³  ì‹¶ë‹¤ë©´ new ê°ì²´ë¥¼ ìˆ˜ì •í•˜ë©´ ëœë‹¤.
    }

    // ê°ì²´ ìƒì„±ì„ ë©”ì†Œë“œ ì²˜ë¦¬
    public DiscountPolicy discountPolicy(){
        return new FixDiscountPolicy();
        // ìƒˆë¡œìš´ êµ¬í˜„ì²´ë¥¼ ì£¼ì… í•˜ê³  ì‹¶ë‹¤ë©´ new ê°ì²´ë¥¼ ìˆ˜ì •í•˜ë©´ ëœë‹¤.
    }

    public MemberService memberService(){
        return new MemberServiceImpl(memberRepository());
    }

    public OrderService orderService(){
        return new OrderServiceImpl(memberRepository(), discountPolicy());
    }
}
```
- new MemoryMemberRepository() ì¤‘ë³µì´ ì œê±° ë˜ì—ˆë‹¤. **ì´ì œ MemoryMemberRepositoryë¥¼ ë‹¤ë¥¸ êµ¬í˜„ì²´ë¡œ ë³€ê²½í•  ë•Œ í•œ ë¶€ë¶„ë§Œ ë³€ê²½í•˜ë©´ ëœë‹¤.**
- **AppConfig**ë¥¼ ë³´ë©´ ì—­í• ê³¼ êµ¬í˜„ í´ë˜ìŠ¤ê°€ í•œ ëˆˆì— ë“¤ì–´ì˜¨ë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ êµ¬ì„±ì´ ì–´ë–»ê²Œ ë˜ì–´ ìˆëŠ”ì§€ ë¹ ë¥´ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.


### **ìƒˆë¡œìš´ êµ¬ì¡°ì™€ í• ì¸ ì •ì±… ì ìš©**
![](../../assets/images/spring-core/spring-core-understand/8.png)
**AppConfigì˜ ë“±ì¥ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í¬ê²Œ ì‚¬ìš©ì˜ì—­ê³¼ , ê°ì²´ë¥¼ ìƒì„±í•˜ê³  êµ¬ì„±(Configuration)í•˜ëŠ” ì˜ì—­ìœ¼ë¡œ ë¶„ë¦¬ ë˜ì—ˆë‹¤.**

-   FixDiscountPolicy -> RateDiscountPolicy ê°ì²´ë¡œ ë³€ê²½í–ˆë‹¤.
-   **ì‚¬ìš© ì˜ì—­ì˜ ì–´ë–¤ ì½”ë“œë„ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤.**
-   ìƒˆë¡œìš´ í• ì¸ ì •ì±… ê°œë°œ ì ìš© ì‹œ DIP ìœ„ë°˜ , ì´ ë¥¼ í•´ê²°í•˜ê³ ì AppConfig ë“±ì¥
-   ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
    -   AppConfigëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ë™ì‘ ë°©ì‹ êµ¬ì„±(Config)í•˜ê¸° ìœ„í•´ , "**êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±**"í•˜ê³  "**ì—°ê²°**"í•˜ëŠ” ì±…ì„
    -   ì´ì œë¶€í„° í´ë¼ì´ì–¸íŠ¸ ê°ì²´ëŠ” ìì‹ ì˜ ì—­í• ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒë§Œ ì§‘ì¤‘ , ê¶Œí•œì´ ì¤„ì–´ë“¬(ì±…ì„ì´ ëª…í™•í•´ì§)
-   AppConfig ë¦¬íŒ©í† ë§
    -   êµ¬ì„± ì •ë³´ì—ì„œ ì—­í• ê³¼ êµ¬í˜„ì„ ëª…í™•í•˜ê²Œ ë¶„ë¦¬
    -   ì¤‘ë³µ ì œê±°
-   ìƒˆë¡œìš´ êµ¬ì¡°ì™€ í• ì¸ ì •ì±… ì ìš©
    -   AppConfigì˜ ë“±ì¥ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í¬ê²Œ "**ì‚¬ìš© ì˜ì—­**"ê³¼ , ê°ì²´ë¥¼ ìƒì„±í•˜ê³  "**êµ¬ì„±(Configuration)í•˜ëŠ” ì˜ì—­**" ìœ¼ë¡œ ë¶„ë¦¬

* * *
## ğŸ“Œ**ê°ì²´ ì§€í–¥ ì„¤ê³„ì˜ 5ê°€ì§€ ì›ì¹™ì´ ì–´ë–»ê²Œ ì ìš© ë˜ì—ˆëŠ”ì§€?**
ì—¬ê¸°ì„œ 3ê°€ì§€ SRP , DIP , OCP ì ìš©

###  **SRP - ë‹¨ì¼ ì±…ì„ ì›ì¹™**

-   **í•œ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì ¸ì•¼ í•œë‹¤.**
-   í´ë¼ì´ì–¸íŠ¸ ê°ì²´ëŠ” ì§ì ‘ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  , ì—°ê²°í•˜ê³  , ì‹¤í–‰í•˜ëŠ” ë‹¤ì–‘í•œ ì±…ì„ì„ ê°€ì§€ê³  ìˆìŒ
-   SRP ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ë”°ë¥´ë©´ì„œ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•¨
    -   **êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì—°ê²°í•˜ëŠ” ì±…ì„ì€ AppConfigê°€ ë‹´ë‹¹**
    -   **í´ë¼ì´ì–¸íŠ¸ ê°ì²´ëŠ” ì‹¤í–‰í•˜ëŠ” ì±…ì„ë§Œ ë‹´ë‹¹**

###  **DIP - ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™**

-   **í”„ë¡œê·¸ë˜ë¨¸ëŠ” "ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ì§€ , êµ¬ì²´í™”ì— ì˜ì¡´í•˜ë©´ ì•ˆëœë‹¤." ì˜ì¡´ì„± ì£¼ì…ì€ ì´ ì›ì¹™ì„ ë”°ë¥´ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ë‹¤.**
-   ìƒˆë¡œìš´ í• ì¸ ì •ì±…ì„ ê°œë°œí•˜ê³  , ì ìš©í•˜ë ¤ê³  í•˜ë‹ˆ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë„ í•¨ê»˜ ë³€ê²½í•´ì•¼ í–ˆë‹¤. ì™œëƒí•˜ë©´ ê¸°ì¡´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œëŠ”Â  DIPë¥¼ ì§€í‚¤ë©° ì¶”ìƒí™” ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ê²ƒ ê°™ì•˜ì§€ë§Œ , (FixDiscountPolicy) êµ¬ì²´í™” êµ¬í˜„ í´ë˜ìŠ¤ì—ë„ í•¨ê»˜ ì˜ì¡´ í–ˆë‹¤.
-   AppConfigê°€ FixDiscountPolicy ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ëŒ€ì‹  ìƒì„±í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì— ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…í–ˆë‹¤. ì´ë ‡ê²Œ í•´ì„œ DIP ì›ì¹™ì„ ë”°ë¥´ë©´ì„œ ë¬¸ì œë„ í•´ê²°í–ˆë‹¤.

### **OCP - ê°œë°©,íì‡„ ì›ì¹™**

-   **ì†Œí”„íŠ¸ì›¨ì–´ ìš”ì†ŒëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆìœ¼ë‚˜ ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.**
-   ë‹¤í˜•ì„± ì‚¬ìš©í•˜ê³  í´ë¼ì´ì–¸íŠ¸ê°€ DIPë¥¼ ì§€í‚´
-   ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš© ì˜ì—­ê³¼ êµ¬ì„± ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ”
-   AppConfig(êµ¬ì„± ì˜ì—­)ì—ì„œì˜ ìˆ˜ì •ë§Œìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤.
-   "**ì†Œí”„íŠ¸ì›¨ì–´ ìš”ì†Œë¥¼ ìƒˆë¡­ê²Œ í™•ì¥í•´ë„ ì‚¬ìš© ì˜ì—­ì˜ ë³€ê²½ì€ ë‹«í˜€ ìˆë‹¤.**"
