---
layout: default
title: ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
grand_parent: ìŠ¤í”„ë§ í•µì‹¬
parent: ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ ì´í•´
nav_order: 3
---
```java
package hello.core;

import hello.core.discount.FixDiscountPolicy;
import hello.core.member.MemberService;
import hello.core.member.MemberServiceImpl;
import hello.core.member.MemoryMemberRepository;
import hello.core.order.OrderService;
import hello.core.order.OrderServiceImpl;

public class AppConfig {

    public MemberService memberService(){
        return new MemberServiceImpl(new MemoryMemberRepository());
    }

    public OrderService orderService(){
        return new OrderServiceImpl(
          new MemoryMemberRepository(),
          new FixDiscountPolicy());
    }
}
```

  ### **MemberServiceImpl**
  ```java
  package hello.core.member;

public class MemberServiceImpl implements MemberService{

    private final MemberRepository memberRepository;

    public MemberServiceImpl(MemberRepository memberRepository) {	// ìƒì„±ì ì£¼ì…ìœ¼ë¡œ ë³€ê²½
        this.memberRepository = memberRepository;
    }

    @Override
    public void join(Member member) {
        memberRepository.save(member);
    }

    @Override
    public Member findMember(Long memberId) {
        return memberRepository.findById(memberId);
    }
}
  ```
  ### **OrderServiceImpl**
  ```java
  package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;

public class OrderServiceImpl implements OrderService{

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

	//ìƒì„±ì ì£¼ì…ìœ¼ë¡œ ë³€ê²½
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member , itemPrice);

        return new Order(memberId , itemName , itemPrice , discountPrice);
    }
}
```

### ğŸ“Œ**AppConfig**
- AppConfigëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ë™ì‘ì— í•„ìš”í•œ <span style="color:red; font-weight:bold">êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±</span>í•œë‹¤.
  - **MemberServiceImpl**
  - **MemoryMemberServiceImpl**
  - **OrderServiceImpl**
  - **FixDiscountImpl**
- AppConfigëŠ” ìƒì„±í•œ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡°(ë ˆí¼ëŸ°ìŠ¤)ë¥¼ <span style="color:red; font-weight:bold">ìƒì„±ìë¥¼ í†µí•´ì„œ ì£¼ì…(ì—°ê²°)</span>í•´ì¤€ë‹¤.
  - **MemberServiceImpl âœ MemoryMemberRepository**
  - **OrderServiceImpl âœ MemoryMemberRepository , FixDiscountPolicy**
- ì„¤ê³„ ë³€ê²½ìœ¼ë¡œ MemberServiceImplì€ MemoryMemberRepositoryë¥¼ ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ë‹¨ì§€ MemberRepositoryì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´í•œë‹¤.
- MemberServiceImplì…ì¥ì—ì„œ ìƒì„±ìë¥¼ í†µí•´ ì–´ë–¤ êµ¬í˜„ ê°ì²´ê°€ ë“¤ì–´ì˜¬ì§€(ì£¼ì…ë ì§€)ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤.
- MemberServiceImplì˜ ìƒì„±ìë¥¼ í†µí•´ì„œ ì–´ë–¤ êµ¬í˜„ ê°ì²´ë¥¼ ì£¼ì…í• ì§€ëŠ” ì˜¤ì§ ì™¸ë¶€ (**AppConfig**)ì—ì„œ ê²°ì •ëœë‹¤.
- MemberServiceImplì€ ì´ì œë¶€í„° <span style="color:red; font-weight:bold">ì˜ì¡´ê´€ê³„ì— ëŒ€í•œ ê³ ë¯¼ì€ ì™¸ë¶€</span>ì— ë§¡ê¸°ê³  <span style="color:red; font-weight:bold">ì‹¤í–‰ì—ë§Œ ì§‘ì¤‘</span>í•˜ë©´ ëœë‹¤.
![](../../assets/images/spring-core/spring-core-understand/5.png)
- ê°ì²´ì˜ ìƒì„±ê³¼ ì—°ê²°ì€ AppConfigê°€ ë‹´ë‹¹í•œë‹¤.
- **DIP ì™„ì„±** : MemberServiceImplì€ MemberRepositoryì¸ ì¶”ìƒì—ë§Œ ì˜ì¡´í•˜ë©´ ëœë‹¤. ì´ì œ êµ¬ì²´ í´ë˜ìŠ¤ë¥¼ ëª°ë¼ë„ ëœë‹¤.
- **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬** : ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì—°ê²°í•˜ëŠ” ì—­í• ê³¼ ì‹¤í–‰í•˜ëŠ” ì—­í• ì´ ëª…í™•íˆ ë¶„ë¦¬ ë˜ì—ˆë‹¤.
![](../../assets/images/spring-core/spring-core-understand/6.png)
- appConfigê°ì²´ëŠ” memoryMemberRepository ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê·¸ ì°¸ì¡°ê°’ì„ memberServiceImplì„ ìƒì„±í•˜ë©´ì„œ ìƒì„±ìë¡œ ì „ë‹¬í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ì¸ MemberServiceImplì…ì¥ì—ì„œ ë³´ë©´ ì˜ì¡´ê´€ê³„ë¥¼ ë§ˆì¹˜ ì™¸ë¶€ì—ì„œ ì£¼ì…í•´ì£¼ëŠ” ê²ƒ ê°™ë‹¤ê³  í•´ì„œ
- **DI(Dependency Injection) ìš°ë¦¬ë§ë¡œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë˜ëŠ” ì˜ì¡´ì„± ì£¼ì…ì´ë¼ í•œë‹¤.**
