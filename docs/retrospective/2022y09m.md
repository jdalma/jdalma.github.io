---
layout: default
title: 2022년 9월 - 코드숨
nav_order: 3
parent: ⏪ 회고
---
{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>

---

## **09.01 (목)**
1. 코드숨 알고리즘 9일차 완료
2. 과제 주석 작성 및 수정
3. MVC 테스트 코드 작성
4. 스프링 1.1

## **09.04 (일)** 토프링 읽기 모임
1. 싱글턴 레지스트리에서 반환되는 것과 싱글턴 컨테이너에서 반환되는 것 📌
    1. 룩업의 차이
2. A가 B라는 빈을 주입 받고 싶을 때 A도 빈으로 등록되어 있어야 하지만, A가 특정 상황으로 인해 빈으로 등록할 수 없을 때 getBean()으로 B를 조회할 수 있다
3. 여기서 말하는 인터페이스는 자바의 인터페이스를 뜻하는 것이 아니다
4. 빈은 꼭 인터페이스로 받아야할까?
    1. Serivce의 인터페이스가 없이 Service 클래스를 직접 주입받는다면 차라리 new로 생성하라고 할 만큼 의미 없다
    2. 한 개의 클래스마다 한 개의 인터페이스는… 디비비전이 개 문제다
5. 생성자 주입 방식이 왜 좋냐??
    1. 수정자 주입은 자바 빈의 특성 떔에 잠깐 나왔던 사용법인 것 같다? 생성자 주입을 쓰라고 한다
    2. 생성자 주입의 문제는 주입을 여러 개 받을 때 동일한 타입을 받는 상황이라면 순서가 뒤바뀌어도 문제를 알아차릴 수 없다
        1. 롬복의 생성자 어노테이션의 문제점과 관련있음
    3. 생성자 주입에서 동일한 타입을 받을 때의 문제점을 해결하기 위한 전략도 있다고 한다
6. 객체의 생명주기
7. 자바의 동시성 🚩
8. 스프링이 추상 클래스를 상속받아 빈으로 등록해준다는데?? 🚩
9. 프로토타입 빈 (잘 안쓴다) 영한님 강의에 나옴
10. XML로 설정하는 것은 혁신적인 기술이었다
    1. 여러 명이 동시에 개발한다면 같은 설정 파일을 수정하는 상황이 문제다
    2. 타입체크를 런타임시에 하기 때문에 띄워봐야 안다는 부분은 요즘 ide가 해결해준다
11. 어노테이션은 자바보다 스프링이 먼저 나왔다
12. 엔티티의 의존정보는 어노테이션으로 DB 매핑 정보는 xml로 할려고 했다는 것이 JPA의 초기 컨셉
13. xml은 다 버리고 @Configuration
14. 코드 레벨에서 의존관계가 있는 것과 런타임시에 의존관계가 만들어지는 것은 차이가 있다 📌
15. 데코레이터 패턴 🚩

## **9월 첫 째주 회고** - 코드숨 5주차 과제 `고양이 장난감 가게 만들기`

**배운 것**
{: .fh-default .fs-6 }

1. 코드숨 알고리즘
   - Sorting , BruteForce , Greedy , Heap , DynamicProgramming
2. [`docs oracle` Using Bean Validation Constraints](https://docs.oracle.com/javaee/7/tutorial/bean-validation001.htm)
3. [**`Dozer Mapper` Getting Started**](https://dozermapper.github.io/gitbook/documentation/gettingstarted.html)
   - DozerMapper의 문제점 조사하기 🚩 [리뷰](https://github.com/CodeSoom/spring-week5-assignment-1/pull/75#discussion_r961656565)
4. JSON 직렬화 , 역직렬화에서 특정 필드 무시하기
   - 자원 생성 , 수정 각 상황에 맞는 DTO 추가
5. JavaDoc을 작성하는 방법
   - 자바 빌트인 클래스들을 참조 `String.class`
   - [`johngrib` JavaDoc 작성하기](https://johngrib.github.io/wiki/java/javadoc/)
     - **목표는 특정 코드 덩어리의 대략적인 역할을 3초 안에 파악할 수 있도록 도와주는 것이다.**
     - **메소드가 무엇을 입력받아서 무엇을 리턴하는지를 반드시 설명한다.**
     - **구현과 주석이 커플링이 생기지 않도록 한다.**
     - **주석 상속 규칙**
6. [`@AllArgsConstructor`, `@RequiredArgsConstructor` 주의](https://jdalma.github.io/docs/algorithmTheory/lombok/#allargsconstructor-requiredargsconstructor-%EC%82%AC%EC%9A%A9%EA%B8%88%EC%A7%80) 정리 
7. [`@Builder`를 클래스 , 생성자에 작성 차이](https://jdalma.github.io/docs/algorithmTheory/lombok/#builder-%ED%81%B4%EB%9E%98%EC%8A%A4%EC%97%90-%EC%9E%91%EC%84%B1%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90-%EC%9E%91%EC%84%B1%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90) 정리
8. 모킹을 제거하고 **Controller 통합 테스트**
9. **Serivce** 목적에 맞게 분리 [리뷰](https://github.com/CodeSoom/spring-week5-assignment-1/pull/75#discussion_r958434890)
   - `QueryService`
   - `CommandService`

**느낀 것**
{: .fh-default .fs-6 }

코드숨 과제를 통해 배우고 정리했던 내용 덕분에 토프링 읽기모임에서 나왔던 내용들이 금방 이해됐다. <br>
**JavaDoc** , 주석의 필요성을 느꼇다 <br>
**주석은 구현에 의존되게 작성하지 말자** <br>
테스트 코드를 작성할 때 모킹을 쓰지 않는 환경에 적응하자 <br>
미리 테스트를 만들어 두는 경우에는 까먹지 않게 일부러 테스트를 실패하게 하자<br>

**교훈**
{: .fh-default .fs-6 }

간편해서 막 쓰는 어노테이션들을 세심하게 살펴보자 <br>
생성자 어노테이션을 막 작성한것이 그 예다 <br>
한 번에 알아볼 수 있도록 **주석**을 작성하려 노력하자 <br>
[JLS](https://docs.oracle.com/javase/specs/)를 애용하자

***

## 09.05 (월)
1. 알고리즘 3문제 BFS , 1문제 DP
2. 5주차 과제 풀의 영상 시청
3. 6주차 과제 주석 작성
4. [`johngrib` 테스트 코드와 반증가능성에 대한 메모](https://johngrib.github.io/wiki/article/test-code-and-falsifiability/)
5. 과제를 진행하면서 이해 안가는 상황이 있다..
   - **Jpa Repository**가 **Repository Interface**와 **CrudRepository Interface**를 확장하고 있다
   - **Service**클래스가 **Repository Interface**를 주입받고 사용하고 있다
   - Spring Data JPA에서 제공하는 interface를 확장하면 제공되는 쿼리를 쓸 수 있다는 것만 알았는데..
   - 그러면 **Jpa Repository**를 주입받아서 사용해야 하지 않나..?
   - 어떻게 **Repository Interface** 쓸 수 있는 것일까?
6. Spring Data JPA에서 제공하는 interface의 메서드만 확장해서 사용할 수 있는 줄 알았는데..
   - `UserRepository.existsByEmail()`이라는 메서드는 어떻게 실행되는걸까??


```
알고리즘 스터디에서 합분해를 주현님이 조합으로 푸시다가 메모이제이션을 활용했다고 하셨다
근데 조합 중 동일한 파라미터가 들어오는 경우가 있어서 자연스럽게 메모이제이션을 떠올리셨다고 한다

"DP의 중요한 포인트는 완전탐색이다!!!"
```

## 09.06 (화)
1. 코드숨 알고리즘 12일차 완료
1. 거스름돈 같은 문제는 그리디로 풀었었는데 [동전 2](https://www.acmicpc.net/problem/2294)같은 문제는 그리디로 풀 수 없다고 한다. 왜?
   - 화폐의 가치가 배수가 아니라서 그렇다
   - 그리디로 풀면 동전 개수 최소값을 구할 수 없다
   - DP배열을 초기화하는 아이디어가 부족했다
   - 화페의 인덱스에 `1`을 표시만 하려고 했지 배수로 그 금액을 만들 수 있는 화폐의 개수는 카운트 할려고 하지 않았다...

```java
Arrays.fill(dp , MAX);
dp[0] = 0;

for(int i = 1 ; i <= N ; i++){
    int coin = Integer.parseInt(br.readLine());
    for(int j = coin ; j <= K ; j++){
        dp[j] = Math.min(dp[j] , dp[j - coin] + 1);
    }
}
```

2. [포도주 시식](https://www.acmicpc.net/problem/2156)을 시도했지만 실패.. 점화식을 세우기가 어렵다

## 09.07 (수)

1. 코드숨 알고리즘 13일차 완료
2. 01BFS 정리
3. [벽 타기](https://www.acmicpc.net/problem/23563) 실패...

## 09.08 (목)
1. DP 문제 어렵다
2. [벽 타기](https://www.acmicpc.net/problem/23563) 실패...

## 09.09 (금)
1. [`johngrib` SOLID](https://johngrib.github.io/wiki/jargon/solid/)
2. 스프링 읽기

## 09.10 (토)
1. 분할 정복 1문제 완료
2. 백준 - Z 문제
   - 4분면으로 나누어 모든 경우를 다 확인하면 시간초과가 난다.
   - 분할 구역을 선택해서 나눈다.
3. 스프링 읽기

## 09.11 (일)
1. 스프링 1장 정리 완료 
2. 스프링 2장 읽기

## 09.12 (월)
1. 6주차 강의
2. [Java-JWT](https://github.com/jwtk/jjwt)

## 09.13 (화)
1. 6주차 강의
2. [원리로 알아보는 Git의 기초](https://teamdable.github.io/techblog/Git-Basic)
3. [`mozilla` Authorization](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization)
4. **JWT** [RFC7519](https://www.rfc-editor.org/rfc/rfc7519)
   - [`velopert` [JWT] JSON Web Token 소개 및 구조](https://velopert.com/2389)
   - [`Awdsd` JWT 저장소에 대한 고민(feat. XSS, CSRF)](https://cjw-awdsd.tistory.com/48)
   - [`baeldung` SRF With Stateless REST API](https://www.baeldung.com/csrf-stateless-rest-api#1-credentials-are-not-persisted)
   - [세션 기반 인증과 토큰 기반 인증 (feat. 인증과 인가)](https://hudi.blog/session-based-auth-vs-token-based-auth/)
   - [토근 기반 인증에서 bearer는 무엇일까?](https://velog.io/@cada/%ED%86%A0%EA%B7%BC-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D%EC%97%90%EC%84%9C-bearer%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C) 
   - [JWT (JSON Web Token) 간단히 훑어보기](https://www.youtube.com/watch?v=7abbNwuCXbg&ab_channel=Taehoon)
   - [JSON Web Token이 가진 한계점들](https://www.youtube.com/watch?v=THFmV5LPE6Y&ab_channel=Taehoon)
     - **Token Expired Issue** : 순수하게 JWT만 사용하여 인증을 처리하게 된다면 다중 로그인 상황을 구분할 수가 없다
     - **When JWT is stolen..** : JWT가 유출되면 위험하다
5. `@Value("${jwt.secret}") String secret`
   - application.yml에 있는 속성 정보 사용하기


## 09.14 (수)
1. **Authorization 헤더** 토큰 값만 꺼내기
2. JwtUtil 단위 테스트에서는 디코딩이 잘 되는데 왜 Product 통합 테스트에서는 예외가 발생할까..?

```
io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
```

- **테스트 코드에서 사용한 Secret 과 서버에서 사용한 Secret키가 달랐다....**

## 09.15 (목)
1. 문자열 압축 완료
   - 문자열 단위를 나누어서 압축이 가장 짧게 된 것을 리턴
2. **6주차 과제**
   - 로그인 시 사용자 email , password를 확인하여 사용자 검증 및 JWT 반환
   - 로그인 실패 시 
     - UserNotFoundException
     - WrongPasswordException
   - Product 생성 시 사용자 확인 후 생성 , 테스트 코드 추가

## 09.16 (금)
1. [`baeldung` Custom Error Message Handling for REST API](https://www.baeldung.com/global-error-handler-in-a-spring-rest-api)
2. [REST-assured](https://github.com/rest-assured/rest-assured)
3. ExceptionHandler 테스트 코드 추가
4. 오브젝트 읽기
   - Getter도 염려하면서 사용하자

## 09.17 (토)

![](../../assets/images/retrospective/20220917.jpg)

- 늦게 일어나서 많이는 못 했다..
- 오브젝트 읽기
   1. 템플릿 메소드 패턴 🚩
- 6주차 과제 인증 부분 인터셉터 적용
   1. `product` 경로에만 적용
