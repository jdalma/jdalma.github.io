---
layout: default
title: Kotlin
nav_order: 11
has_children: true
permalink: /docs/kotlin
---

{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>

---


**[자바에서 코틀린으로](https://github.com/jdalma/java-to-kotlin)** 책 읽기모임을 진행하면서 나오는 `무지 목록`을 조사하고 **코틀린 인 액션**에서 나오는 내용들을 정리한다

해당 카테고리의 글들의 출처는 대부분 책의 내용들이다.

***

## 정적 타입 지정 언어

자바와 마찬가지로 코틀린도 **정적 타입**지정 언어다.    
모든 프로그램 구성 요소의 타입을 `컴파일 시점`에 알 수 있고 프로그램 안에서 **객체의 필드나 메서드를 사용할 때마다 컴파일러가 타입을 검증해준다**는 뜻이다.  
코틀린에서는 코틀린 컴파일러가 `문맥으로 부터 변수 타입을 자동으로 유추`할 수 있기 때문에 **모든 변수의 타입을 직접 명시할 필요가 없다.** → **`타입 추론 type inference`**  
코틀린 표준 라이브러리는 **객체와 컬렉션을 함수형 스타일로 다룰 수 있는 API를 제공한다.**  
타입 검사와 캐스트가 한 연산자에 의해 이뤄진다.  
- 특정 타입으로 검사를 했으면 해당 타입의 기능을 바로 사용할 수 있다


> **동적 타입 지정 언어** (`Groovy`나 `JRuby`가 대표적)
> 
> 타입과 관계없이 모든 값을 변수에 넣을 수 있고, 메서드나 필드 접근에 대한 검증이 실행 시점에 일어난다
>
> 그에 따라 코드가 더 짧아지고 데이터 구조를 더 유연하게 생성하고 사용할 수 있다
> 
> 반대로 개발자의 실수도 컴파일 시 걸러내지 못하고 실행 시점에 오류가 발생한다

***

## 함수형 프로그래밍

**함수형 프로그래밍의 핵심 개념**
1. **일급 시민인 함수**
   - `함수를 일반 값처럼` 다룰 수 있다.
   - 어떤 함수가 다른 함수를 파라미터로 받거나 함수가 새로운 함수를 반환할 수 있다
2. **불변성**
   - 일단 만들어지고 나면 내부 상태가 절대로 바뀌지 않는 불변 객체를 사용해 프로그램을 작성한다.
3. **부수 효과 (Side Effect) 없음**
   - 입력이 같으면 항상 같은 출력을 내놓고 다른 객체의 상태를 변경하지 않으며,
   - 함수 외부나 다른 바깥 환경과 상호작용하지 않는 `순수 함수`를 사용한다

**함수형 프로그래밍의 장점**
다중 스레드 프로그램에서는 적절한 동기화 없이 같은 데이터를 여러 스레드가 변경하는 경우 가장 많은 문제가 생긴다  
`불변 데이터`를 사용하고 `순수 함수`를 그 데이터 구조에 적용한다면 **다중 스레드를 사용해도 안전하다.**  
그리고 **테스트 하기 쉽다.**

***

## 코틀린 도구 사용

코틀린도 컴파일 언어다. 따라서 코틀린 코드를 실행하기 전에 먼저 코드를 컴파일 해야만 한다.  

**코틀린 코드 컴파일**  
 - `.kt` 확장자
 - 자바 컴파일러가 자바 소스코드를 컴파일할 때와 마찬가지로 코틀린 컴파일러가 `.class`파일을 만들어낸다
 - `kotlinc` 명령을 통해 코드를 컴파일한 다음 `java`명령으로 그 코드를 실행할 수 있다

```
kotlinc <소스파일 또는 디렉터리> -include-runtime -d <jar이름>
java -jar <jar 이름>
```

```
                                    코틀린 런타임
*.kt    →   코틀린 컴파일러  ➘                     ➘
                            *.class ➙  *.jar ➙ 애플리케이션
*.java  →   자바 컴파일러   ➚
```

코틀린 컴파일러로 컴파일한 코드는 **코틀린 런타임 라이브러리**에 의존한다
- 해당 라이브러리에는 `코틀린 자체 표준 라이브러리 클래스`와 `코틀린에서 자바 API의 기능을 확장한 내용`이 들어있다

코틀린으로 컴파일한 애플리케이션을 배포할 때는 **런타임 라이브러리도 함께 배포해야 한다.**  

**대화형 셸**  
대화형 셸을 `REPL` (read-eval-print loop의 약자)  
- 입력을 받아 값을 계산한 다음 결과 값을 출력하는 루프라는 뜻  

**자바-코틀린 변환기**  
